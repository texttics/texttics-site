<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Text...tics â€” A Deterministic Structural Profiler</title>

  <!-- PyScript (will be needed for app.py) -->
  <link rel="stylesheet" href="https://pyscript.net/releases/2024.9.1/core.css">
  <script type="module" config="pyscript.toml" src="https://pyscript.net/releases/2024.9.1/core.js"></script>

  <!-- Main application stylesheet -->
  <link rel="stylesheet" href="styles.css">

  <!-- 
    Your Python (app.py) and JS (ui-glue.js) will be added later.
    <script type="py" src="app.py" config="pyscript.toml"></script>
    <script type="module" src="ui-glue.js"></script>
  -->
</head>
<body>
  <!-- Visible, first-focusable skip link for accessibility -->
  <a class="skip-link" href="#main">Skip to main content</a>

  <!-- Zone 0: Lab Instrument Masthead (Static Header) -->
  <header class="masthead" role="banner">
    <h1 class="app-title">Text...tics</h1>
    <p class="spec">A Deterministic Structural Profiler (Unicode-based)</p>
Â  Â  <p class="method">Method: Post-clipboard analysis using Unicode Technical Standards (UAX/UTS) to profile logical properties, composition, and perceptual segmentation.</p>
  </header>

  <!-- Two-column "Lab Bench" layout -->
  <div class="lab-bench">
    
    <!-- Column 1: Sticky In-Page Jump List -->
    <nav class="jump-list" aria-label="Sections">
      <ol>
        <li>
          <a href="#dual-atom">
            <span class="jump-list-title">Dual-Atom</span>
            <span class="jump-list-subtitle">Profile <span id="toc-dual-count" class="count">(0)</span></span>
          </a>
        </li>
        <li>
          <a href="#structural-shape">
            <span class="jump-list-title">Structural Shape</span>
            <span class="jump-list-subtitle">Profile <span id="toc-shape-count" class="count">(0)</span></span>
          </a>
        </li>
        <li>
          <a href="#structural-integrity">
            <span class="jump-list-title">Structural Integrity</span>
            <span class="jump-list-subtitle">Profile <span id="toc-integrity-count" class="count">(0)</span></span>
          </a>
        </li>
        <li>
          <a href="#provenance-context">
            <span class="jump-list-title">Provenance &amp; Context</span>
            <span class="jump-list-subtitle">Profile <span id="toc-prov-count" class="count">(0)</span></span>
          </a>
        </li>
        <li>
          <a href="#emoji-forensics">
            <span class="jump-list-title">Emoji Qualification</span>
            <span class="jump-list-subtitle">Profile <span id="toc-emoji-count" class="count">(0)</span></span>
          </a>
        </li>
        <li>
          <a href="#threat-hunting">
            <span class="jump-list-title">Threat-Hunting</span>
            <span class="jump-list-subtitle">Profile <span id="toc-threat-count" class="count">(0)</span></span>
          </a>
        </li>
      </ol>
    </nav>

    <!-- Column 2: Main Analysis Content (Scrollable) -->
    <main id="main">

      <!-- Group 1: Analysis Configuration (Control Plane) -->
      <section id="control-plane" aria-labelledby="control-plane-title">
        <div class="section-header">
Â  Â  Â  Â  Â  <h2 id="control-plane-title" class="section-title" style="border:none; margin:0;">Control Panel</h2>
Â  Â  Â  Â  </div>
        <label for="text-input" class="visually-hidden">Text input</label>
Â  Â  Â  Â  <textarea id="text-input" placeholder="Loading Unicode data..." disabled></textarea>
        <div class="status-bar">
Â  Â  Â  Â  Â  <strong>Status:</strong>
Â  Â  Â  Â  Â  <span id="status-line" role="status" aria-live="polite">Loading Unicode data files...</span>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="control-buttons-container">
Â  Â  Â  Â  Â  <button id="btn-run-stage2" class="tool-btn" title="Run macro-analysis on this text">
Â  Â  Â  Â  Â  Â  ğŸ“Š Analyze Macrostructure
Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  <button id="btn-reveal" class="tool-btn" title="Replace invisible characters with visible tags">
Â  Â  Â  Â  Â  Â  ğŸ‘ï¸ Reveal Invisibles
Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div id="inspector-panel-wrapper">
Â  Â  Â  Â  Â  <h3>Character Inspector</h3>
Â  Â  Â  Â  Â  <div id="inspector-panel-content">
Â  Â  Â  Â  Â  Â  Â  <p>Click on any character in the text area above to see its properties.</p>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  </section>

      <!-- 
        GROUP 2: THE STRUCTURAL PROFILE
      -->

      <!-- Group 2.A: Dual-Atom Profile (Module 1) -->
      <section id="dual-atom" class="fingerprint-section" aria-labelledby="dual-atom-title">
        <h2 id="dual-atom-title" class="section-title">
  <span>Dual-Atom Profile</span>
  <button id="copy-report-btn" class="copy-btn" title="Copy full structured report">
    Copy Report
  </button>
</h2>

        <!-- WAI-ARIA Tabs pattern (Overview | Full Breakdown) -->
        <div class="tabs">
          <div role="tablist" aria-label="Dual-Atom tabs">
            <button role="tab" id="tab-overview" aria-selected="true" aria-controls="panel-overview">
              Overview
            </button>
            <button role="tab" id="tab-breakdown" aria-selected="false" tabindex="-1" aria-controls="panel-breakdown">
              Full Breakdown (30)
            </button>
          </div>

          <!-- Tab Panel 1: Overview (Default) -->
          <div id="panel-overview" role="tabpanel" aria-labelledby="tab-overview">
            
            <h3 class="subsection-title">Core Metrics (Totals)</h3>
            <div class="cards" id="meta-totals-cards">
              <!-- Python will inject cards here, e.g.:
              <div class="card"><strong>Total Code Points</strong><div>0</div></div>
              <div class="card"><strong>Total Graphemes</strong><div>0</div></div>
              -->
            </div>

            <h3 class="subsection-title">Grapheme Structural Integrity</h3>
            <div class="cards" id="grapheme-integrity-cards">
              <!-- Python will inject cards here -->
            </div>

            <h3 class="subsection-title">Combining Class Profile (Zalgo)</h3>
          <table class="matrix" id="ccc-matrix">
            <caption>Canonical Combining Class (ccc) Counts (Non-Zero)</caption>
            <thead>
              <tr>
                <th scope="col">Class</th>
                <th scope="col">Count</th>
                <th scope="col">Description</th>
              </tr>
            </thead>
            <tbody id="ccc-matrix-body">
              </tbody>
          </table>

            <h3 class="subsection-title">Major Category Parallel View</h3>
            <table class="matrix" id="major-parallel-table">
              <caption>Major Categories - Code Points vs. Graphemes</caption>
              <thead>
                <tr>
                  <th scope="col">Category</th>
                  <th scope="col">Code Points (Logical)</th>
                  <th scope="col">Graphemes (Perceptual)</th>
                </tr>
              </thead>
              <tbody id="major-parallel-body">
                <!-- Python will inject <tr> rows here -->
              </tbody>
            </table>
          </div>

          <!-- Tab Panel 2: Full Breakdown -->
          <div id="panel-breakdown" role="tabpanel" aria-labelledby="tab-breakdown" hidden>
            <h3 class="subsection-title">Minor Category Parallel View</h3>
            <table class="matrix" id="minor-parallel-table">
              <caption>Full Breakdown (30 minor categories) - Code Points vs. Graphemes</caption>
              <thead>
                <tr>
                  <th scope="col">Minor Category</th>
                  <th scope="col">Code Points (Logical)</th>
                  <th scope="col">Graphemes (Perceptual)</th>
                </tr>
              </thead>
              <tbody id="minor-parallel-body">
                <!-- Python will inject <tr> rows here -->
              </tbody>
            </table>
          </div>
       </div>
      </section>

      <!-- Group 2.B: Structural Shape Profile (Module 2) -->
      <section id="structural-shape" class="fingerprint-section" aria-labelledby="shape-title">
    <h2 id="shape-title" class="section-title">Structural Shape Profile</h2>

    <h3 class="subsection-title">Major Category Run Analysis</h3>
    <table class="matrix" id="shape-matrix">
      <caption>Sequence (Run) Analysis of 7 Major Categories</caption>
      <thead>
        <tr>
          <th scope="col">Metric</th>
          <th scope="col">Count</th>
        </tr>
      </thead>
      <tbody id="shape-matrix-body">
      </tbody>
    </table>

    <h3 class="subsection-title">Minor Category Run Analysis</h3>
    <table class="matrix" id="minor-shape-matrix">
      <caption>Sequence (Run) Analysis of 30 Minor Categories</caption>
      <thead>
        <tr>
          <th scope="col">Metric</th>
          <th scope="col">Count</th>
        </tr>
      </thead>
      <tbody id="minor-shape-matrix-body">
      </tbody>
    </table>

    <h3 class="subsection-title">Line Break Run Analysis (UAX #14)</h3>
    <table class="matrix" id="linebreak-run-matrix">
      <caption>Sequence (Run) Analysis of Line Break Properties</caption>
      <thead>
        <tr><th scope="col">Metric</th><th scope="col">Count</th></tr>
      </thead>
      <tbody id="linebreak-run-matrix-body">
      </tbody>
    </table>

<h3 class="subsection-title">Bidi Class Run Analysis (UAX #9)</h3>
    <table class="matrix" id="bidi-run-matrix">
      <caption>Sequence (Run) Analysis of Bidi Class Properties</caption>
      <thead>
        <tr><th scope="col">Metric</th><th scope="col">Count</th></tr>
      </thead>
      <tbody id="bidi-run-matrix-body">
      </tbody>
    </table>

  <h3 class="subsection-title">Word Break Run Analysis (UAX #29)</h3>
    <table class="matrix" id="wordbreak-run-matrix">
      <caption>Sequence (Run) Analysis of Word Break Properties</caption>
      <thead>
        <tr><th scope="col">Metric</th><th scope="col">Count</th></tr>
      </thead>
      <tbody id="wordbreak-run-matrix-body">
      </tbody>
    </table>

    <h3 class="subsection-title">Sentence Break Run Analysis (UAX #29)</h3>
    <table class="matrix" id="sentencebreak-run-matrix">
      <caption>Sequence (Run) Analysis of Sentence Break Properties</caption>
      <thead>
        <tr><th scope="col">Metric</th><th scope="col">Count</th></tr>
      </thead>
      <tbody id="sentencebreak-run-matrix-body">
      </tbody>
    </table>

    <h3 class="subsection-title">Grapheme Break Run Analysis (UAX #29)</h3>
    <table class="matrix" id="graphemebreak-run-matrix">
      <caption>Sequence (Run) Analysis of Grapheme Break Properties</caption>
      <thead>
        <tr><th scope="col">Metric</th><th scope="col">Count</th></tr>
      </thead>
      <tbody id="graphemebreak-run-matrix-body">
      </tbody>
    </table>

    <h3 class="subsection-title">East Asian Width Run Analysis</h3>
    <table class="matrix" id="eawidth-run-matrix">
      <caption>Sequence (Run) Analysis of East Asian Width Properties</caption>
      <thead>
        <tr><th scope="col">Metric</th><th scope="col">Count</th></tr>
      </thead>
      <tbody id="eawidth-run-matrix-body">
      </tbody>
    </table>

    <h3 class="subsection-title">Vertical Orientation Run Analysis</h3>
    <table class="matrix" id="vo-run-matrix">
      <caption>Sequence (Run) Analysis of Vertical Orientation Properties</caption>
      <thead>
        <tr><th scope="col">Metric</th><th scope="col">Count</th></tr>
      </thead>
      <tbody id="vo-run-matrix-body">
      </tbody>
    </table>
        
  </section>


      <!-- Group 2.C: Forensic Integrity Profile (Modules 4, 6, 8) -->
      <section id="structural-integrity" class="fingerprint-section" aria-labelledby="integrity-title">
      <h2 id="integrity-title" class="section-title">Structural Integrity Profile</h2>
      <table class="matrix" id="integrity-matrix">
        <caption>Integrity Flags (Invisibles, Modifiers, IVS)</caption>
          <thead>
            <tr>
              <th scope="col">Metric</th>
              <th scope="col">Count</th>
              <th scope="col">Positions</th>
            </tr>
          </thead>
          <tbody id="integrity-matrix-body">
            <!-- Python will inject <tr> rows here -->
          </tbody>
        </table>
      </section>

      <!-- Group 2.D: Provenance & Context Profile (Modules 5, 6) -->
      <section id="provenance-context" class="fingerprint-section" aria-labelledby="prov-title">
        <h2 id="prov-title" class="section-title">Provenance &amp; Context Profile</h2>
        <table class="matrix" id="provenance-matrix">
          <caption>Script, Script-Extension, Block, Age &amp; Numeric Properties</caption>
          <thead>
            <tr>
              <th scope="col">Metric</th>
              <th scope="col">Count</th>
               <th scope="col">Positions</th>
            </tr>
          </thead>
          <tbody id="provenance-matrix-body">
            <!-- Python will inject <tr> rows here -->
          </tbody>
        </table>

        <h3 class="subsection-title">Script Run-Length Analysis</h3>
    <table class="matrix" id="script-run-matrix">
    <caption>Sequence (Run) Analysis of Script & Script-Extension Properties</caption>
    <thead>
        <tr>
            <th scope="col">Metric</th>
            <th scope="col">Count</th>
            <th scope="col">Positions</th>
        </tr>
    </thead>
      <tbody id="script-run-matrix-body">
        </tbody>
    </table>
        
      </section>

<section id="emoji-forensics" class="fingerprint-section" aria-labelledby="emoji-title">
  <h2 id="emoji-title" class="section-title">Emoji Qualification Profile</h2>
  <h3 class="subsection-title">RGI Sequence Analysis</h3>
  <p id="emoji-summary" class="emoji-summary"></p>
  <table class="matrix" id="emoji-qualification-matrix">
    <caption>Qualification status for all detected RGI sequences</caption>
    <thead>
      <tr>
        <th scope="col">Sequence</th>
        <th scope="col">Status</th>
        <th scope="col">Count</th>
        <th scope="col">Positions</th>
      </tr>
    </thead>
    <tbody id="emoji-qualification-body"></tbody>
  </table>
</section>


<!-- Group 3: Threat-Hunting (Module 7)-->
<section id="threat-hunting" class="fingerprint-section" aria-labelledby="threat-title">
        <h2 id="threat-title" class="section-title">Threat-Hunting Profile</h2>
        <div id="threat-banner" class="banner-warning" role="alert" hidden></div>
        <h3 class="subsection-title">Threat Flags</h3>
        <table class="matrix" id="threat-report-table">
            <caption>High-level security flags and high-risk runs</caption>
            <thead>
                <tr>
                    <th scope="col">Metric</th>
                    <th scope="col">Count</th>
                    <th scope="col">Details / Positions</th>
                </tr>
            </thead>
            <tbody id="threat-report-body">
                </tbody>
        </table>

        <h3 class="subsection-title">Normalization Hashes</h3>
        <table class="matrix" id="threat-hash-report">
            <caption>State Hashes (Forensic, NFKC, NFKC-Casefold, UTS #39 Skeleton)</caption>
            <thead>
                <tr>
                    <th scope="col">State</th>
                    <th scope="col">Hash (SHA-256)</th>
                </tr>
            </thead>
            <tbody id="threat-hash-report-body">
                <tr><td colspan="2" class="placeholder-text">No data.</td></tr>
            </tbody>
        </table>
    
        <h3 class="subsection-title">Perception vs. Reality Report</h3>
        <pre id="confusable-diff-report" class="confusable-report"><p class="placeholder-text">No confusable runs detected.</p></pre>
    </section>
      
      
Â  Â  </main>
Â  </div> <!-- /.lab-bench -->

<script type="py" src="app.py"></script>
Â  <script src="ui-glue.js" defer></script>
Â Â 
</body>
</html>"
